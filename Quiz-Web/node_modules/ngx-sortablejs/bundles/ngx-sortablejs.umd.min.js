!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("sortablejs")):"function"==typeof define&&define.amd?define("ngx-sortablejs",["exports","@angular/core","sortablejs"],e):e((t=t||self)["ngx-sortablejs"]={},t.ng.core,t.Sortable)}(this,function(t,e,n){"use strict";n=n&&n.hasOwnProperty("default")?n["default"]:n;var r=function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function o(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(a){o={error:a}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return s}var i=new e.InjectionToken("Global config for sortablejs"),s=function(){function t(t){this.target=t}return t.prototype.insert=function(t,e){this.isFormArray?this.target.insert(t,e):this.target.splice(t,0,e)},t.prototype.get=function(t){return this.isFormArray?this.target.at(t):this.target[t]},t.prototype.remove=function(t){var e;return this.isFormArray?(e=this.target.at(t),this.target.removeAt(t)):e=this.target.splice(t,1)[0],e},Object.defineProperty(t.prototype,"isFormArray",{get:function(){return!!this.target.at&&!!this.target.insert&&!!this.target.reset},enumerable:!0,configurable:!0}),t}(),a=function(){function t(t){this.bindings=t.map(function(t){return new s(t)})}return t.prototype.injectIntoEvery=function(t,e){this.bindings.forEach(function(n,r){return n.insert(t,e[r])})},t.prototype.getFromEvery=function(t){return this.bindings.map(function(e){return e.get(t)})},t.prototype.extractFromEvery=function(t){return this.bindings.map(function(e){return e.remove(t)})},Object.defineProperty(t.prototype,"provided",{get:function(){return!!this.bindings.length},enumerable:!0,configurable:!0}),t}(),u=function(){function t(){}return t.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],t.ngInjectableDef=e.ɵɵdefineInjectable({factory:function(){return new t},token:t,providedIn:"root"}),t}(),c=function(){function t(t,n,r,o,i){this.globalConfig=t,this.service=n,this.element=r,this.zone=o,this.renderer=i,this.runInsideAngular=!1,this.sortablejsInit=new e.EventEmitter}return t.prototype.ngOnInit=function(){var t=this;n&&n.create&&(this.runInsideAngular?this.create():this.zone.runOutsideAngular(function(){return t.create()}))},t.prototype.ngOnChanges=function(t){var e=this,n=t.sortablejsOptions;if(n&&!n.isFirstChange()){var r=n.previousValue,o=n.currentValue;Object.keys(o).forEach(function(t){o[t]!==r[t]&&e.sortableInstance.option(t,e.options[t])})}},t.prototype.ngOnDestroy=function(){this.sortableInstance&&this.sortableInstance.destroy()},t.prototype.create=function(){var t=this,e=this.sortablejsContainer?this.element.nativeElement.querySelector(this.sortablejsContainer):this.element.nativeElement;setTimeout(function(){t.sortableInstance=n.create(e,t.options),t.sortablejsInit.emit(t.sortableInstance)},0)},t.prototype.getBindings=function(){return this.sortablejs?this.sortablejs instanceof a?this.sortablejs:new a([this.sortablejs]):new a([])},Object.defineProperty(t.prototype,"options",{get:function(){return r({},this.optionsWithoutEvents,this.overridenOptions)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"optionsWithoutEvents",{get:function(){return r({},this.globalConfig||{},this.sortablejsOptions||{})},enumerable:!0,configurable:!0}),t.prototype.proxyEvent=function(t){for(var e=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];this.zone.run(function(){var r;e.optionsWithoutEvents&&e.optionsWithoutEvents[t]&&(r=e.optionsWithoutEvents)[t].apply(r,function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(o(arguments[e]));return t}(n))})},Object.defineProperty(t.prototype,"isCloning",{get:function(){return"clone"===this.sortableInstance.options.group.checkPull(this.sortableInstance,this.sortableInstance)},enumerable:!0,configurable:!0}),t.prototype.clone=function(t){return(this.sortablejsCloneFunction||function(t){return t})(t)},Object.defineProperty(t.prototype,"overridenOptions",{get:function(){var t=this;return{onAdd:function(e){t.service.transfer=function(n){t.getBindings().injectIntoEvery(e.newIndex,n),t.proxyEvent("onAdd",e)},t.proxyEvent("onAddOriginal",e)},onRemove:function(e){var n=t.getBindings();n.provided&&(t.isCloning?(t.service.transfer(n.getFromEvery(e.oldIndex).map(function(e){return t.clone(e)})),t.renderer.removeChild(e.item.parentNode,e.item),t.renderer.insertBefore(e.clone.parentNode,e.item,e.clone),t.renderer.removeChild(e.clone.parentNode,e.clone)):t.service.transfer(n.extractFromEvery(e.oldIndex)),t.service.transfer=null),t.proxyEvent("onRemove",e)},onUpdate:function(e){var n=t.getBindings();n.injectIntoEvery(e.newIndex,n.extractFromEvery(e.oldIndex)),t.proxyEvent("onUpdate",e)}}},enumerable:!0,configurable:!0}),t.decorators=[{type:e.Directive,args:[{selector:"[sortablejs]"}]}],t.ctorParameters=function(){return[{type:undefined,decorators:[{type:e.Optional},{type:e.Inject,args:[i]}]},{type:u},{type:e.ElementRef},{type:e.NgZone},{type:e.Renderer2}]},t.propDecorators={sortablejs:[{type:e.Input}],sortablejsContainer:[{type:e.Input}],sortablejsOptions:[{type:e.Input}],sortablejsCloneFunction:[{type:e.Input}],runInsideAngular:[{type:e.Input}],sortablejsInit:[{type:e.Output}]},t}(),p=function(){function t(){}return t.forRoot=function(e){return{ngModule:t,providers:[{provide:i,useValue:e}]}},t.decorators=[{type:e.NgModule,args:[{declarations:[c],exports:[c]}]}],t}();t.SortablejsDirective=c,t.SortablejsModule=p,t.ɵa=i,t.ɵb=u,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ngx-sortablejs.umd.min.js.map